<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
	<head>





		<script type="text/javascript" async
			src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
		</script>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="author" content="CHAI" />
		<title>
			
				
				Python学习手册 笔记（第四章）
			
		</title>

		<link rel="shortcut icon" href="/image/favicon.ico" />
		<link href="/feed/" rel="alternate" title="CHAI" type="application/atom+xml" />
		<link rel="stylesheet" href="/media/css/style.css" />
		<link rel="stylesheet" href="/media/css/highlight.css" />
		<script type="text/javascript" src="/media/js/jquery-1.7.1.min.js"></script>
	</head>

	<body>
		<div id="container">
		<div id="main" role="main">

		<header>
			<h1>
				Python学习手册 笔记（第四章）
			</h1>
		</header>

		<nav>
			<span><a title="网站首页" class="" href="/">首页</a></span>
			<span><a title="文章分类" class="" href="/categories/">分类</a></span>
			<span><a title="标签索引" class="" href="/tags/">标签</a></span>
			<span><a title="留言交流" class="" href="/guestbook/">留言</a></span>
			<span><a title="关于站长" class="" href="/about/">关于</a></span>
        </nav>

        <article class="content">
			<section class="meta">
<span class="time">
    <time datetime="2016-11-09">2016-11-09</time>
</span>

 |
<span class="categories">
  分类
  
  <a href="/categories/#Python" title="Python">Python</a>&nbsp;
  
</span>


 |
<span class="tags">
  标签
  
  <a href="/tags/#Python学习手册" title="Python学习手册">Python学习手册</a>&nbsp;
  
</span>

</section>
<section class="post">
<h1 id="第二部分">第二部分</h1>

<h2 id="第4章-介绍python对象类型">第4章 介绍python对象类型</h2>

<ul>
  <li>python程序可以分解成模块、语句、表达式以及对象：程序由模块组成；模块包含语句；语句包含表达式；表达式建立并处理对象</li>
</ul>

<h3 id="python的核心数据类型">python的核心数据类型</h3>

<table>
  <thead>
    <tr>
      <th style="text-align: center">对象类型</th>
      <th style="text-align: center">例子</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">数字</td>
      <td style="text-align: center">1234，3.1415，3+4j</td>
    </tr>
    <tr>
      <td style="text-align: center">字符串</td>
      <td style="text-align: center">‘spam’, “guido’s”</td>
    </tr>
    <tr>
      <td style="text-align: center">列表</td>
      <td style="text-align: center">[1, [2, ‘three’], 4]</td>
    </tr>
    <tr>
      <td style="text-align: center">字典</td>
      <td style="text-align: center">{‘food’: ‘spam’, ‘taste’: ‘yum’}</td>
    </tr>
    <tr>
      <td style="text-align: center">元组</td>
      <td style="text-align: center">(1, ‘spam’, 4, ‘U’)</td>
    </tr>
    <tr>
      <td style="text-align: center">文件</td>
      <td style="text-align: center">myfile = open(‘eggs’, ‘r’)</td>
    </tr>
    <tr>
      <td style="text-align: center">集合</td>
      <td style="text-align: center">set(‘abc’), {‘a’, ‘b’, ‘c’}</td>
    </tr>
    <tr>
      <td style="text-align: center">其他类型</td>
      <td style="text-align: center">类型、None、bool</td>
    </tr>
    <tr>
      <td style="text-align: center">编程单元类型</td>
      <td style="text-align: center">函数、模块、类</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>python中没有类型声明，运行的表达式的语法据定了创建和使用的对象的类型</li>
  <li>python是动态类型的，也是强类型语言</li>
</ul>

<h3 id="数字">数字</h3>

<ul>
  <li>类型：整数、浮点数、有虚部的复数、固定精度的十进制、带分子和分母的有理数、集合</li>
  <li>数学运输：加分(+)、乘法(*)、乘方(**)，当需要时，python3的整数类型会自动提供额外的精度</li>
  <li>Example：</li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">math</span>
<span class="n">math</span><span class="o">.</span><span class="n">pi</span>
<span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">86</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">random</span>
<span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
<span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span></code></pre></figure>

<h3 id="序列的操作">序列的操作</h3>

<ul>
  <li>字符串支持位置顺序的操作</li>
  <li>字符串支持分片(slice)的操作，左边界默认为0，右边界默认为分片序列的长度</li>
  <li>字符串支持加分合并(多态)，重复</li>
  <li>Example:</li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">S</span> <span class="o">=</span> <span class="s">'spam'</span>
<span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="c"># 4</span>
<span class="n">S</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c"># 's'</span>
<span class="n">S</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="c"># 'p'</span>
<span class="n">S</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="c"># 'm'</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">S</span> <span class="o">=</span> <span class="s">'spam'</span>
<span class="n">S</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="c"># 'pa'</span></code></pre></figure>

<h3 id="不可变性">不可变性</h3>

<ul>
  <li>数组、字符串和元组是不可变的；列表和字典可以自由改变</li>
</ul>

<h3 id="类型特定的方法">类型特定的方法</h3>

<ul>
  <li>find方法：字符串查找（返回传入字符串的偏移量，没有返回-1）；replace方法：对全局进行搜索和替换</li>
  <li>split方法：分割字符串；upper方法：大小写变换；isalpha方法：测试字符串的内容；strip方法：去掉头尾的空格；rstrip方法：去掉字符串后面的空格</li>
  <li>字符串方法调用：
<code class="highlighter-rouge">'%s, eggs, and %s' % ('spam', 'SPAM') # 'spam, eggs, and SPAM!'</code>或<code class="highlighter-rouge">'{0}, eggs, and {1}'.format('spam', 'SPAM!') # 'spam, eggs, and SPAM!'</code></li>
  <li>Example：</li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">S</span> <span class="o">=</span> <span class="s">'Spam'</span>
<span class="n">S</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'pa'</span><span class="p">)</span> <span class="c"># 1</span>
<span class="n">S</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">'pa'</span><span class="p">,</span> <span class="s">'XYZ'</span><span class="p">)</span> <span class="c"># 'SXYZm'</span>
<span class="n">S</span> <span class="c"># 'Spam'</span></code></pre></figure>

<h3 id="编写字符串的其他方法">编写字符串的其他方法</h3>

<ul>
  <li>python运行3个引号包含多行字符串常量</li>
</ul>

<h3 id="模式匹配暂时不懂">模式匹配（暂时不懂）</h3>

<h3 id="序列操作">序列操作</h3>

<ul>
  <li>列表支持加法</li>
</ul>

<h3 id="类型特定的操作">类型特定的操作</h3>

<ul>
  <li>append方法：增加列表元素；pop方法：移除指定偏移量的一项；sort方法：对列表进行排序；reverse方法：翻转列表</li>
</ul>

<h3 id="边界检查">边界检查</h3>

<ul>
  <li>python不允许引用不存在的元素</li>
</ul>

<h3 id="嵌套">嵌套</h3>

<ul>
  <li>python核心数据的一个优秀特性是支持任意的嵌套</li>
</ul>

<h3 id="列表解析">列表解析</h3>

<ul>
  <li>列表解析式：<code class="highlighter-rouge">[row[1] + 1 for row in M]</code>或<code class="highlighter-rouge">[row[1] for row in M if row[1] % 2 == 0]</code>，后面一个使用if表达式，通过%求余表达式过滤结果重的奇数</li>
  <li>解析语法也可以创建集合和字典：<code class="highlighter-rouge"><span class="p">{</span><span class="err">sum(row)</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">row</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">M</span><span class="p">}</span></code>和<code class="highlighter-rouge"><span class="p">{</span><span class="err">i:</span><span class="w"> </span><span class="err">sum(M[i])</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">i</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">range(3)</span><span class="p">}</span></code></li>
</ul>

<h3 id="重访嵌套">重访嵌套</h3>

<ul>
  <li>python对象嵌套：</li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">rec</span> <span class="o">=</span> <span class="p">{</span><span class="s">'name'</span><span class="p">:</span> <span class="p">{</span><span class="s">'first'</span><span class="p">:</span> <span class="s">'Bob'</span><span class="p">,</span> <span class="s">'last'</span><span class="p">:</span> <span class="s">'Smith'</span><span class="p">},</span> <span class="s">'job'</span><span class="p">:</span> <span class="p">[</span><span class="s">'dev'</span><span class="p">,</span> <span class="s">'mgr'</span><span class="p">],</span> <span class="s">'age'</span><span class="p">:</span> <span class="mf">40.5</span><span class="p">}</span></code></pre></figure>

<p>python具有一种垃圾收集的特性，一旦最后一次被移除，空间会立即回收</p>

<h3 id="键的排序for循环">键的排序：for循环</h3>

<ul>
  <li>while循环：</li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">x</span> <span class="o">=</span> <span class="mi">4</span>
<span class="k">while</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
	<span class="k">print</span><span class="p">(</span><span class="s">'spam!'</span> <span class="o">*</span> <span class="n">x</span><span class="p">)</span>
	<span class="n">x</span> <span class="o">-=</span> <span class="mi">1</span></code></pre></figure>

<h3 id="迭代和优化">迭代和优化</h3>

<ul>
  <li>迭代协议</li>
  <li>map和filter通常运行的比for循环快，这是对大数据集合的程序有程序有重大影响的特性</li>
  <li>python熟悉为了简单和可读性去编写代码，在证明了确实有必要考虑性能后，在考虑性能问题</li>
</ul>

<h3 id="元组">元组</h3>

<ul>
  <li>基本上是一个不可以改变的列表</li>
  <li>index方法：返回参数在元组中的位置；count方法：返回参数在元组中的数量</li>
  <li>元组中支持混合的类型和嵌套，但不能增长和缩短，因为他们是不可变的</li>
</ul>

<h3 id="其他文件类工具">其他文件类工具</h3>

<ul>
  <li>管道、先进先出队列（FIFO）、套接字、键访问文件、对象持久、基于描述符的文件、关系数据库和面向对象数据库接口</li>
</ul>

<h3 id="如何破环代码的灵活性">如何破环代码的灵活性</h3>

<ul>
  <li>检查对象类型，至少3种方法：</li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">L</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">([]):</span>
	<span class="k">print</span><span class="p">(</span><span class="s">'yes'</span><span class="p">)</span> <span class="c"># yes</span>
<span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">L</span><span class="p">)</span> <span class="o">==</span> <span class="nb">list</span><span class="p">:</span>
	<span class="k">print</span><span class="p">(</span><span class="s">'yes'</span><span class="p">)</span> <span class="c"># yes</span>
<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
	<span class="k">print</span><span class="p">(</span><span class="s">'yes'</span><span class="p">)</span> <span class="c"># yes</span></code></pre></figure>


</section>
<section align="right">
<br/>
<span>
	<a  href="/Python-Learn-chapter3/" class="pageNav"  >上一篇</a>
	&nbsp;&nbsp;&nbsp;
	<a  href="/Python-Learn-chapter5/" class="pageNav"  >下一篇</a>
</span>
</section>

        </article>

		</div>
		</div>
	</body>
</html>
